{% regroup show.showsong_set.all by get_set_display as song_list %}

{% for set, songs in song_list %}
    <p>
        <b>{{ set }} ::</b>
        {% for song in songs %}
            <a href="/songs/{{ song.song.id }}" title="{{ song.song.name }}">
                {{ song.song.name }}</a>
            {# gets rid of trailing character on last song #}
            {% if not forloop.last %}
                {% if song.segue %}
                    {{ song.segue }}
                {% else %}
                    |
                {% endif %}
            {% endif %}
        {% endfor %}
{% endfor %}